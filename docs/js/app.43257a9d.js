(function(){"use strict";var t={1013:function(t,e,a){var s=a(144),n=a(1096),i=a(3551),o=function(){var t=this,e=t._self._c;return e(n.Z,[e(i.Z,[e("DemoHeader"),e("EspnetOnnxDemo"),e("DemoFooter")],1)],1)},l=[],r=a(3058),c=a(4437),u=a(6035),d=a(5294),h=a(5234),m=function(){var t=this,e=t._self._c;return e(u.Z,[e(r.Z,{staticClass:"mt-4",attrs:{flat:""}},[e(d.Z,[e(c.Z,{attrs:{cols:"3"}},[e("a",{attrs:{href:"https://github.com/espnet/espnet"}},[e("img",{attrs:{src:"/static/image/espnet-logo.png",width:"100%"}})])]),e(h.Z),e(c.Z,{staticStyle:{"text-align":"right"},attrs:{cols:"1"}},[e("a",{attrs:{href:"https://github.com/espnet/espnet_onnx"}},[e("img",{attrs:{src:"/static/image/github-mark.png",width:"100%"}})])])],1)],1)],1)},p=[],v={name:"DemoHeader",data:()=>({hoverFlag:!1}),methods:{hover(){this.hoverFlag=!0},out(){this.hoverFlag=!1}}},g=v,f=a(1001),_=(0,f.Z)(g,m,p,!1,null,null,null),y=_.exports,Z=a(2537),S=function(){var t=this,e=t._self._c;return e(u.Z,[e(Z.Z,{attrs:{padless:"",absolute:""}},[e(d.Z,{attrs:{justify:"center","no-gutters":""}},[e(c.Z,{staticClass:"py-4 text-center",attrs:{color:"#BFBFBF",cols:"12"}},[t._v(" "+t._s((new Date).getFullYear())+" â€” "),e("strong",[t._v("ESPnet-ONNX")])])],1)],1)],1)},b=[],x={name:"DemoFooter"},w=x,C=(0,f.Z)(w,S,b,!1,null,null,null),k=C.exports,T=a(5223),A=function(){var t=this,e=t._self._c;return e(u.Z,[e(r.Z,{attrs:{flat:""}},[e(T.EB,[e("span",{staticClass:"text-h3"},[t._v("ESPnet-ONNX demo")])]),e(T.ZB,{staticClass:"body-1"},[t._v(" This is a demonstration space of ESPnet-ONNX project. Please select ASR or TTS to play! ")])],1),e("MenuBar",{staticClass:"mt-6 mx-auto",attrs:{options:t.options},on:{select:t.menuChanged},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:"ASR"==t.menuSelected,expression:"menuSelected == 'ASR'"}]},[e("ASRDemoSheet",{staticClass:"mt-3"})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"TTS"==t.menuSelected,expression:"menuSelected == 'TTS'"}]},[e("TTSDemoSheet",{staticClass:"mt-3"})],1)],1)},O=[],F=a(5057),j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"btn-containrt_foreground",style:t.cssVariables},[e("div",{staticClass:"btn-containrt"},t._l(t.localOptions,(function(a,s){return e("div",{key:`menu-label-${s}`,class:{[`btn-item-${s} labels`]:!0,["checked"]:a.isActive,["unchecked"]:!a.isActive},on:{click:function(e){return t.handleLabelClick(a)}}},[e("div",{staticClass:"active-label"},[a.badge?e("div",{staticClass:"btn-badge"},[t._v(" "+t._s(a.badge)+" ")]):t._e(),t.hasSlot("icon")?t._t("icon",null,{props:a}):[e(F.Z,[t._v(" "+t._s(a.icon)+" ")])]],2),e("div",{staticClass:"btn-title"},[t.hasSlot("title")?t._t("title",null,{props:a}):[t._v(" "+t._s(a.title)+" ")]],2)])})),0)])},D=[],L={model:{prop:"value",event:"update"},props:{value:{default:null},options:{type:Array,default:()=>[]},badgeColor:{type:String,default:"#FBC02D"}},data:()=>({localOptions:[],showable:!1}),created(){this.localOptions=this.options.map((t=>({...t,isActive:this.isActive(t)})))},computed:{cssVariables(){return{"--color-badge":this.badgeColor}},hasActiveClass(){return this.localOptions.some((t=>t.isActive))}},methods:{handleLabelClick(t){this.showable||this.toggleClass(),this.updateValue(t.id),this.$emit("select",t.title)},updateValue(t){this.localOptions.forEach((e=>e.isActive=this.isActive(e,t))),this.$emit("update",t)},toggleClass(){this.showable=!this.showable},isActive(t,e=this.value){return t.id==e||(t.childs||[]).find((t=>t.id==e))},hasSlot(t){return this.$slots[t]||this.$scopedSlots[t]}}},P=L,R=(0,f.Z)(P,j,D,!1,null,"002ef1c4",null),M=R.exports,E=a(1828),N=a(271),B=a(3224),I=a(9868),V=a(4397),$=a(5617),X=function(){var t=this,e=t._self._c;return e(u.Z,[e(I.Z,{staticClass:"mt-6 mx-3"},[e(d.Z,[e(c.Z,{staticClass:"py-auto",staticStyle:{"text-align":"center"},attrs:{cols:"3",height:"100%"}},[e("span",{staticClass:"text-h6"},[t._v(" Select model ")])]),e(c.Z,{attrs:{cols:"7"}},[e(B.Z,{attrs:{items:t.models,dense:""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),e(c.Z,{attrs:{cols:"2"}},[e(E.Z,{attrs:{outlined:"",width:"100%",loading:t.loadingFlag},on:{click:t.loadModel}},[t._v(" Load ")])],1)],1),e(d.Z,[e(c.Z,{staticClass:"py-auto",staticStyle:{"text-align":"center"},attrs:{cols:"3",height:"100%"}},[e("span",{staticClass:"text-h6"},[t._v(" Upload audio ")])]),e(c.Z,{attrs:{cols:"7"}},[e(N.Z,{attrs:{label:"Select your audio file","prepend-icon":"mdi-waveform",dense:"","show-size":"",accept:"audio/*"}})],1),e(c.Z,{attrs:{cols:"2"}},[e(E.Z,{attrs:{outlined:"",width:"100%",loading:t.ASRLoadingFlag},on:{click:t.runModel}},[t._v(" Run ")])],1)],1),e(d.Z,[e(c.Z,{staticClass:"py-auto",staticStyle:{"text-align":"center"},attrs:{cols:"3",height:"100%"}},[e("span",{staticClass:"text-h6"},[t._v(" Text ")])]),e(c.Z,{attrs:{cols:"9"}},[e($.Z,{attrs:{dense:"",readonly:""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1),e(d.Z,{staticClass:"mt-6"},[e(c.Z,{staticClass:"py-auto",staticStyle:{"text-align":"center"},attrs:{cols:"3",height:"100%"}},[e("span",{staticClass:"text-h6"},[t._v(" Model Detail ")])]),e(c.Z,{attrs:{cols:"9"}},[e(r.Z,{attrs:{flat:""}},[e(V.Z,[e("tbody",t._l(t.modelInfo[t.model],(function(a){return e("tr",{key:a.name},[e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.value))])])})),0)])],1)],1)],1)],1)],1)},H=[],W={name:"ASRDemoSheet",data:()=>({model:"",models:["kamo-naoyuki/mini_an4_asr_train_raw_bpe_valid.acc.best","Shinji Watanabe/librispeech_asr_train_asr_transformer_e18_raw_bpe_sp_valid.acc.best","kamo-naoyuki/wsj"],modelInfo:{"kamo-naoyuki/mini_an4_asr_train_raw_bpe_valid.acc.best":[{name:"url",value:"https://huggingface.co/espnet/kamo-naoyuki-mini_an4_asr_train_raw_bpe_valid.acc.best"},{name:"encoder",value:"Conformer"},{name:"decoder",value:"Transformer"}],"Shinji Watanabe/librispeech_asr_train_asr_transformer_e18_raw_bpe_sp_valid.acc.best":[{name:"url",value:"https://huggingface.co/espnet/shinji-watanabe-librispeech_asr_train_asr_transformer_e18_raw_bpe_sp_valid.acc.best"},{name:"encoder",value:"Transformer"},{name:"decoder",value:"Transformer"}],"kamo-naoyuki/wsj":[{name:"url",value:"https://huggingface.co/espnet/kamo-naoyuki_wsj"},{name:"encoder",value:"Transformer"},{name:"decoder",value:"Transformer"}]},loadingFlag:!1,text:"",ASRLoadingFlag:!1}),methods:{loadModel(){this.loadingFlag=!0},runModel(){this.ASRLoadingFlag=!0}}},q=W,z=(0,f.Z)(q,X,H,!1,null,null,null),G=z.exports,U=function(){var t=this,e=t._self._c;return e(u.Z,[e(I.Z,{staticClass:"mt-6 mx-3"},[e(d.Z,[e(c.Z,{staticClass:"py-auto",staticStyle:{"text-align":"center"},attrs:{cols:"3",height:"100%"}},[e("span",{staticClass:"text-h6"},[t._v(" Select model ")])]),e(c.Z,{attrs:{cols:"7"}},[e(B.Z,{attrs:{items:t.models,dense:""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),e(c.Z,{attrs:{cols:"2"}},[e(E.Z,{attrs:{outlined:"",width:"100%",loading:t.loadingFlag},on:{click:t.loadModel}},[t._v(" Load ")])],1)],1),e(d.Z,[e(c.Z,{staticClass:"py-auto",staticStyle:{"text-align":"center"},attrs:{cols:"3",height:"100%"}},[e("span",{staticClass:"text-h6"},[t._v(" Write text ")])]),e(c.Z,{attrs:{cols:"9"}},[e($.Z,{attrs:{dense:"",clearable:"",rows:"2",counter:"",rules:t.textLengthRules},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1),e(d.Z,[e(c.Z,{staticClass:"py-auto",staticStyle:{"text-align":"center"},attrs:{cols:"3",height:"100%"}},[e("span",{staticClass:"text-h6"},[t._v(" Generated audio ")])]),e(c.Z,{attrs:{cols:"9"}},[e("AudioPlayer")],1)],1),e(d.Z,{staticClass:"mt-6"},[e(c.Z,{staticClass:"py-auto",staticStyle:{"text-align":"center"},attrs:{cols:"3",height:"100%"}},[e("span",{staticClass:"text-h6"},[t._v(" Model Detail ")])]),e(c.Z,{attrs:{cols:"9"}},[e(r.Z,{attrs:{flat:""}},[e(V.Z,[e("tbody",t._l(t.modelInfo[t.model],(function(a){return e("tr",{key:a.name},[e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.value))])])})),0)])],1)],1)],1)],1)],1)},Y=[],J=a(2059),K=function(){var t=this,e=t._self._c;return e("div",{staticClass:"player"},[e(d.Z,{staticClass:"player-controls ma-0"},[e(c.Z,{staticClass:"pa-2",staticStyle:{"text-align":"center"},attrs:{cols:"1",title:"Stop"}},[e(E.Z,{attrs:{icon:""},on:{click:t.stop}},[e(F.Z,[t._v("mdi-stop")])],1)],1),e(c.Z,{staticClass:"pa-2",staticStyle:{"text-align":"center"},attrs:{cols:"1",title:"Play/Pause"}},[e(E.Z,{attrs:{icon:""},on:{click:function(e){t.playing=!t.playing}}},[e(F.Z,{directives:[{name:"show",rawName:"v-show",value:t.playing,expression:"playing"}]},[t._v("mdi-play")]),e(F.Z,{directives:[{name:"show",rawName:"v-show",value:!t.playing,expression:"!playing"}]},[t._v("mdi-pause")])],1)],1),e(c.Z,{staticClass:"pa-0",attrs:{cols:"6"}},[e("div",{staticClass:"player-progress",attrs:{title:"Time played : Total time"},on:{click:t.seek}},[e("div",{staticClass:"player-seeker",style:{width:this.percentComplete+"%"}})]),e("div",{staticClass:"player-time"},[e("div",{staticClass:"player-time-current"},[t._v(t._s(t.currentTime))]),e("div",{staticClass:"player-time-total"},[t._v(t._s(t.durationTime))])])]),e(c.Z,{staticClass:"pa-2",staticStyle:{"text-align":"center"},attrs:{cols:"4"}},[e(J.Z,{attrs:{"prepend-icon":"mdi-volume-high",max:"100",width:"100%",dense:"","hide-details":"auto"},model:{value:t.volume,callback:function(e){t.volume=e},expression:"volume"}})],1)],1),e("audio",{ref:"audiofile",staticStyle:{display:"none"},attrs:{loop:t.innerLoop,src:t.file,preload:"auto"}})],1)},Q=[];const tt=t=>{let e=new Date(1e3*t).toISOString().substr(11,8);return 0===e.indexOf("00:")?e.substr(3):e};var et={name:"ASRDemoSheet",props:{file:{type:String,default:null},autoPlay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1}},data:()=>({audio:void 0,currentSeconds:0,durationSeconds:0,innerLoop:!1,loaded:!1,playing:!1,previousVolume:35,showVolume:!1,volume:100}),computed:{currentTime(){return tt(this.currentSeconds)},durationTime(){return tt(this.durationSeconds)},percentComplete(){return parseInt(this.currentSeconds/this.durationSeconds*100)},muted(){return this.volume/100===0}},watch:{playing(t){if(t)return this.audio.play();this.audio.pause()},volume(){this.showVolume=!1,this.audio.volume=this.volume/100}},methods:{download(){this.stop(),window.open(this.file,"download")},load(){if(this.audio.readyState>=2)return this.loaded=!0,this.durationSeconds=parseInt(this.audio.duration),this.playing=this.autoPlay;throw new Error("Failed to load sound file.")},mute(){if(this.muted)return this.volume=this.previousVolume;this.previousVolume=this.volume,this.volume=0},seek(t){if(!this.playing||"SPAN"===t.target.tagName)return;const e=t.target.getBoundingClientRect(),a=(t.clientX-e.left)/e.width;this.audio.currentTime=parseInt(this.audio.duration*a)},stop(){this.playing=!1,this.audio.currentTime=0},update(){this.currentSeconds=parseInt(this.audio.currentTime)}},created(){this.innerLoop=this.loop},mounted(){this.audio=this.$el.querySelectorAll("audio")[0],this.audio.addEventListener("timeupdate",this.update),this.audio.addEventListener("loadeddata",this.load),this.audio.addEventListener("pause",(()=>{this.playing=!1})),this.audio.addEventListener("play",(()=>{this.playing=!0}))}},at=et,st=(0,f.Z)(at,K,Q,!1,null,null,null),nt=st.exports,it={name:"ASRDemoSheet",components:{AudioPlayer:nt},data:()=>({model:"",models:["espnet/kan-bayashi_ljspeech_vits","julien-c/kan-bayashi_csmsc_tacotron2"],modelInfo:{"espnet/kan-bayashi_ljspeech_vits":[{name:"url",value:"https://huggingface.co/espnet/kan-bayashi_ljspeech_vits"},{name:"model",value:"VITS"}],"julien-c/kan-bayashi_csmsc_tacotron2":[{name:"url",value:"https://huggingface.co/julien-c/kan-bayashi_csmsc_tacotron2"},{name:"model",value:"Tacotron2"}]},counter:{max:20},loadingFlag:!1,text:"",TTSLoadingFlag:!1,textLengthRules:[t=>t.length<=100||"Maximum 100 characters allowed"]}),methods:{loadModel(){this.loadingFlag=!0},runModel(){this.ASRLoadingFlag=!0}}},ot=it,lt=(0,f.Z)(ot,U,Y,!1,null,null,null),rt=lt.exports,ct={name:"EspnetOnnxDemo",components:{MenuBar:M,ASRDemoSheet:G,TTSDemoSheet:rt},data:()=>({selected:1,options:[{id:1,icon:"mdi-microphone-message",title:"ASR"},{id:2,icon:"mdi-speaker-message",title:"TTS"}],menuSelected:"ASR"}),methods:{menuChanged:function(t){this.menuSelected!=t&&(this.menuSelected=t)}}},ut=ct,dt=(0,f.Z)(ut,A,O,!1,null,null,null),ht=dt.exports,mt={name:"App",components:{DemoHeader:y,DemoFooter:k,EspnetOnnxDemo:ht}},pt=mt,vt=(0,f.Z)(pt,o,l,!1,null,null,null),gt=vt.exports,ft=a(2250);s.ZP.use(ft.Z);var _t=new ft.Z({});s.ZP.config.productionTip=!1,new s.ZP({vuetify:_t,render:t=>t(gt)}).$mount("#app")}},e={};function a(s){var n=e[s];if(void 0!==n)return n.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,s,n,i){if(!s){var o=1/0;for(u=0;u<t.length;u++){s=t[u][0],n=t[u][1],i=t[u][2];for(var l=!0,r=0;r<s.length;r++)(!1&i||o>=i)&&Object.keys(a.O).every((function(t){return a.O[t](s[r])}))?s.splice(r--,1):(l=!1,i<o&&(o=i));if(l){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[s,n,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,i,o=s[0],l=s[1],r=s[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(r)var u=r(a)}for(e&&e(s);c<o.length;c++)i=o[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},s=self["webpackChunkespnet_onnx_demo"]=self["webpackChunkespnet_onnx_demo"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(1013)}));s=a.O(s)})();
//# sourceMappingURL=app.43257a9d.js.map